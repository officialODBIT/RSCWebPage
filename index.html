<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RSC Official Website</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    color: #000;
  }
  .top-banner {
    background-color: #ffeb3b;
    height: 50px;
    display: flex;
    align-items: center;
    padding: 0 20px;
    font-weight: bold;
    font-size: 18px;
  }
  nav.banner-nav {
    display: flex;
    background-color: #fff;
    padding: 10px 20px;
    gap: 15px;
  }
  nav.banner-nav a {
    text-decoration: none;
    color: #000;
    background-color: #eee;
    padding: 8px 14px;
    border-radius: 4px;
    font-weight: bold;
    transition: background-color 0.3s ease;
  }
  nav.banner-nav a:hover {
    background-color: #ddd;
  }
  main {
    padding: 20px;
    max-width: 900px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 6px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
  }
  form label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
  }
  form input[type="text"],
  form textarea {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    box-sizing: border-box;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 1rem;
    font-family: inherit;
  }
  form textarea {
    resize: vertical;
    min-height: 100px;
  }
  form button {
    margin-top: 15px;
    background-color: #ffeb3b;
    border: none;
    padding: 10px 20px;
    font-weight: bold;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 4px;
  }
  form button:hover {
    background-color: #f7da00;
  }
  .treeview ul {
    list-style: none;
    padding-left: 20px;
  }
  .treeview li {
    cursor: pointer;
    user-select: none;
    position: relative;
    padding-left: 16px;
  }
  /* Hide arrow for non-collapsible license-template */
  #tree-license-template::before {
    content: none !important;
  }
  .treeview li::before {
    content: "â–¶";
    position: absolute;
    left: 0;
    top: 0;
    font-size: 12px;
    line-height: 16px;
    transition: transform 0.2s ease;
  }
  .treeview li.expanded::before {
    transform: rotate(90deg);
  }
  .treeview li ul {
    display: none;
    margin-left: 10px;
  }
  /* License template always visible */
  #tree-license-template > ul {
    display: block !important;
  }
  .treeview li.expanded > ul {
    display: block;
  }
  pre {
    background-color: #eee;
    padding: 15px;
    overflow-x: auto;
    border-radius: 4px;
    white-space: pre-wrap;
    word-wrap: break-word;
    cursor: pointer;
  }
</style>
</head>
<body>

<header class="top-banner" role="banner">
  An official website of the RSC
</header>


<main role="main">

  <section id="home">
    <h1>Welcome to the RSC Official Website</h1>
    <p>This is the homepage content.</p>
  </section>

  <section id="filereport">
    <h1>File a RSC License Violation</h1>
    <form id="reportForm">
      <label for="reportUrl">Report URL</label>
      <input type="text" id="reportUrl" name="reportUrl" required placeholder="URL of violation (e.g. profile link)">

      <label for="reportBody">Report Details</label>
      <textarea id="reportBody" name="reportBody" required placeholder="Describe the violation"></textarea>

      <button type="submit">Submit Report</button>
    </form>
    <p id="reportStatus"></p>
  </section>

  <section id="abt">
    <h1>Copyright</h1>
    <p>Copyright under RSC License found in Repository.</p>
  </section>

  <section id="utils">
    <h1>Utilities</h1>
    <div class="treeview" role="tree">
      <ul>
        <li tabindex="0" aria-expanded="false" aria-label="main" id="tree-main">
          main
          <ul>
            <li tabindex="0" aria-label="license template" id="tree-license-template">
              license template
              <pre id="license-pre" title="Click to copy license text">
RSC License

Copyright (c) 2025 Random Stuff Community Corp.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, and merge copies of the Software, subject to the following conditions:

Acknowledging that redistributing this software in any way, shape, or form is against the RSC License and the author of this Software can (and should) demand to cease and desist of the obtained software that is being redistributed,

the above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
              </pre>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </section>

</main>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCQLM5dle_c3ZEdK4SrxwE4FRj2KOLoVDU",
    authDomain: "rsc-sd-b-a-d.firebaseapp.com",
    projectId: "rsc-sd-b-a-d",
    storageBucket: "rsc-sd-b-a-d.firebasestorage.app",
    messagingSenderId: "304652298603",
    appId: "1:304652298603:web:bdcb6e1c1f6e10de4b842e"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const reportForm = document.getElementById("reportForm");
  const reportStatus = document.getElementById("reportStatus");

  reportForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const reportUrl = document.getElementById("reportUrl").value.trim();
    const reportBody = document.getElementById("reportBody").value.trim();
    const reportNum = Math.floor(Math.random() * 1000000);

    if (!reportUrl || !reportBody) {
      reportStatus.textContent = "Please fill out all fields.";
      return;
    }

    try {
      await addDoc(collection(db, "reports"), {
        reporturl: reportUrl,
        reportbody: reportBody,
        reportnum: reportNum,
        date: new Date().toISOString()
      });
      reportStatus.textContent = "Report submitted successfully! Thank you.";
      reportForm.reset();
    } catch (error) {
      reportStatus.textContent = "Error submitting report: " + error.message;
    }
  });
</script>

<script>
  // Treeview expand/collapse
  document.querySelectorAll(".treeview li").forEach(li => {
    // Skip license template toggle (do nothing)
    if (li.id === "tree-license-template") return;

    li.addEventListener("click", () => {
      li.classList.toggle("expanded");
      const expanded = li.classList.contains("expanded");
      li.setAttribute("aria-expanded", expanded);
    });
    li.addEventListener("keydown", e => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        li.classList.toggle("expanded");
        const expanded = li.classList.contains("expanded");
        li.setAttribute("aria-expanded", expanded);
      }
    });
  });

  // Copy license text on <pre> click
  const licensePre = document.getElementById("license-pre");
  licensePre.addEventListener("click", async () => {
    try {
      await navigator.clipboard.writeText(licensePre.textContent.trim());
      alert("RSC License copied to clipboard!");
    } catch {
      alert("Failed to copy license.");
    }
  });
</script>

</body>
</html>
